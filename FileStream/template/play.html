<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Goflix Stream | {{file_name}}</title>

<link rel="icon" href="https://i.ibb.co/Hh4kF2b/icon.png">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/proavipatil/data@main/fs/src/plyr.css">
<script src="https://cdn.tailwindcss.com"></script>

<style>
body{
    background:#0d0d0d;
    color:#e5e5e5;
    font-family:system-ui,sans-serif;
}

/* HEADER */
.goflix-title{
    text-align:center;
    font-size:26px;          /* smaller */
    font-weight:800;
    color:#ff2a2a;
    margin:14px 0;
    letter-spacing:1px;
    animation:glow 2s infinite;
}
@keyframes glow{
    0%{text-shadow:0 0 6px #ff2a2a;}
    50%{text-shadow:0 0 16px #ff2a2a;}
    100%{text-shadow:0 0 6px #ff2a2a;}
}

/* PLAYER */
.player-box{
    max-width:900px;
    margin:auto;
}

/* FILE INFO */
.file-card{
    background:#1a1a1a;
    padding:12px;
    border-radius:12px;
    margin:10px auto;
    max-width:900px;
    font-size:14px;
}

/* BUTTONS */
.action-box{
    display:flex;
    flex-direction:column;
    gap:10px;
    max-width:360px;
    margin:16px auto;
}
.action-box button{
    display:flex;
    align-items:center;
    justify-content:center;
    gap:10px;
    padding:12px;
    font-size:15px;          /* smaller */
    border-radius:14px;
    background:#1f1f1f;
    color:#fff;
    border:1px solid #333;
}
.action-box img{
    height:24px;             /* smaller icons */
}

/* FOOTER */
.footer{
    text-align:center;
    font-size:13px;
    color:#888;
    margin:24px 0;
}
</style>
</head>

<body>

<div class="goflix-title">GOFLIX STREAM</div>

<div class="player-box">
    <video id="player" src="{{file_url}}" controls playsinline width="100%"></video>
</div>

<div class="file-card">
    <b>File Name:</b> {{file_name}} <br>
    <b>File Size:</b> {{file_size}}
</div>

<div class="action-box">

    <button onclick="copyLink()">
        <img src="https://i.ibb.co/CM4Y586/link.png">
        COPY LINK
    </button>

    <button onclick="openMX()">
        <img src="https://i.ibb.co/41WvtQ3/mx.png">
        MX PLAYER
    </button>

    <button onclick="openVLC()">
        <img src="https://i.ibb.co/px6fQs1/vlc.png">
        VLC PLAYER
    </button>

</div>

<div class="footer">
    © 2025 Goflix. All Rights Reserved
</div>

<script src="https://cdn.plyr.io/3.6.9/plyr.js"></script>

<script>
new Plyr('#player');

/* IMPORTANT: DO NOT MODIFY FILE_ID */
const FILE_ID = "{{file_id}}";
const BASE = window.location.origin;
const STREAM_URL = BASE + "/dl/" + FILE_ID;

/* COPY LINK */
function copyLink(){
    navigator.clipboard.writeText(BASE + "/watch/" + FILE_ID);
    alert("Link copied");
}

/* MX PLAYER – RAW HTTP (NO 404) */
function openMX(){
    window.location.href = STREAM_URL;
}

/* VLC PLAYER – CORRECT SCHEME */
function openVLC(){
    const vlcUrl = "vlc://" + STREAM_URL.replace(/^https?:\/\//, "");
    window.location.href = vlcUrl;
    setTimeout(()=>{ window.location.href = STREAM_URL; },1000);
}
</script>

</body>
</html>
